---
layout: post
title: "Yoda Notation"
date: 2014-08-19 17:08:44 +0900
comments: true
tags: [c++, coding convention]
---
{% img center /images/yoda1.jpg %}

지난번에 {% post_link google-c-plus-plus-style-guide %} 에 대해서 한참 수다를 떨었는데, 
요즘에도 비슷한 주제의 책을 읽고 있습니다. 임백준씨가 번역하신 ['읽기 좋은 코드가 좋은 코드다'](http://www.yes24.com/24/goods/6692314?scode=032&OzSrank=1) 인데요,
 이것도 가볍게 읽을 수 있는 내용이어서 빌드 시간 중간에 띄엄띄엄 읽고 있어요.  

이 책을 읽다가 'Yoda Notation'이란 표현을 처음 접했습니다. 표현이 재미있어서 블로그에 한 번 적어봅니다. 구글링해보면 [Yoda Conditions](http://en.wikipedia.org/wiki/Yoda_conditions) 라고도 부르는 것 같네요. 프로그램 코드 상에서 조건문에 값 비교 구문을 적을 때 변수와 상수의 위치를 바꾸어 적는 것을 말합니다. 

{% codeblock lang:cpp May the force be with you. %}
int val = 20;
if(20 == val) { // <- yoda notation here.
  ...
}
{% endcodeblock %} 

<!-- more -->

조건문을 `val == 20`으로 적는 것이 일반적인 언어 어순과 같아서 읽기가 좋지만
프로그래머의 실수로 `val = 20`과 같이 잘못된 코드가 만들어지고 컴파일 에러 없이 그대로 실행되는 것을 막기 위해서
일부러 변수와 상수의 위치를 서로 바꾸는 거죠. 

요다는 영화 스타워즈에서 영문권 사람들도 이해하기 어려울 정도로 꼬인 문법의 말을 사용합니다. 이를 빗대어 위와 같은 조건문 표기 방식을 Yoda Notation이라고 부르는군요. 재미있는 네이밍입니다 :)

책에서는 요즘의 컴파일러들이 조건절 내에서의 할당에 대해 경고를 내주기 때문에, 요다 표기법은 '점차 불필요한 과거의 일이 되어가고 있다' 고 말합니다. 
저도 쉽게 읽히지 않는 이상한 순서 때문에 요다 표기법을 안 좋아하는데, 
책에서도 저랑 같은 생각을 이야기 하고 있어서 반갑네요. 이 뿐만 아니라 이 책은 전반적으로 소스코드의 스타일에 대해 많은 부분 공감가는 방식들을 다수 소개하고 있습니다.

예전에 함께 작업했던 어떤 프로그래머분이, 제가 올린 코드를 리뷰하고 나서 제가 추가한 코드의 조건절을 모두 요다 표기법으로 바꾸었던 적이 있습니다. 그거 참... 별 거 아닌데 기분이 나쁘더군요. 그 뒤로 요다 표기법이 싫어졌는지도 모르겠습니다. 하지만 어쨌든 이젠 옛날 이야기가 되어가고 있는겁니다. Visual Studio 2012 기준으로 /W4(경고 수준 4) 설정에 /WX(경고를 오류로 처리) 설정을 더하면 [C4706 경고](http://msdn.microsoft.com/ko-kr/library/7hw7c1he.aspx)의 발생으로 인해 컴파일 시점에서 코딩 실수를 미리 잡아낼 수 있습니다. 

에, 그러니까 내가 하고 싶었던 말은, **이제 이런 거 필요 없다** 이겁니다 :)
